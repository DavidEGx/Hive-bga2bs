# Hive-bga2bs
Download a Hive archived BGA game in sgf format.

## Demo
![GIF Demo](https://raw.githubusercontent.com/DavidEGx/Hive-bga2bs/master/hive-bga2bs.gif)

## Setup
Create a new bookmark in your browser that points to this "address":

    javascript:(function()%7B%2F**%0A%20*%20Hive%20bga2bs%0A%20*%0A%20*%20Description%3A%0A%20*%0A%20*%20This%20script%20allows%20you%20to%20download%20a%20Hive%20game%20from%20BoardGameArena%20(BGA)%0A%20*%20as%20a%20sgf%20file%20which%20can%20be%20reviewied%20in%20BoardSpace%20(BS).%0A%20*%0A%20*%20The%20reason%20behind%20this%20is%20BS%20game%20reviewer%20is%20far%20superior.%0A%20*%0A%20*%20Warnings%3A%0A%20*%20I%20had%20to%20reverse%20engineer%20the%20way%20both%20BGA%20and%20BS%20work%20so%20this%20is%20likely%0A%20*%20to%20fail.%20I'll%20try%20to%20fix%20what%20I%20can.%0A%20*%0A%20*%0A%20*%20Usage%3A%0A%20*%201.%20Go%20to%20any%20archived%20Hive%20game%20in%20BGA%20(example%3A%20https%3A%2F%2Fen.boardgamearena.com%2F%23!table%3Ftable%3D46229629)%0A%20*%202.%20Replay%20game.%0A%20*%203.%20Choose%20a%20player.%0A%20*%204.%20Fire%20your%20javascript%20console%20and%20paste%20this%20script.%0A%20*%0A%20*%20As%204%20is%20a%20pain%20in%20the%20ass%20the%20best%20way%20is%20to%20create%20a%20bookmark%20with%20the%20script.%0A%20*%20See%20https%3A%2F%2Fcaiorss.github.io%2Fbookmarklet-maker%2F%0A%20*%2F%0A%0A%2F**%0A%20*%20Class%20that%20represents%20a%20Hive%20bug.%0A%20*%20Most%20important%20things%20about%20the%20bug%20are%20its%20name%20and%20position.%0A%20*%2F%0Aclass%20Bug%20%7B%0A%0A%20%20%2F**%0A%20%20%20*%20Creates%20a%20new%20bug.%0A%20%20%20*%20%40param%20%7Bstring%7D%20bugName%20-%20Bug%20name.%20Examples%3A%20wS1%2C%20bQ%2C%20wA2%2C%20etc.%0A%20%20%20*%20%40param%20%7BHiveGame%7D%20hive%20%20-%20The%20hive%20where%20this%20bug%20is%20in.%0A%20%20%20*%2F%0A%20%20constructor(bugName%2C%20hive)%20%7B%0A%20%20%20%20this._name%20%20%20%20%20%20%20%20%20%3D%20bugName%3B%0A%20%20%20%20this._bugType%20%20%20%20%20%20%3D%20bugName.charAt(1)%3B%0A%20%20%20%20this._hive%20%20%20%20%20%20%20%20%20%3D%20hive%3B%0A%20%20%20%20this._pos%20%20%20%20%20%20%20%20%20%20%3D%20undefined%3B%0A%20%20%20%20this._lastMovement%20%3D%20undefined%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20%40return%20%7Bobject%7D%20Bug%20position%20in%20the%20form%20%7B%20x%3A%20NUMBER%2C%20y%3A%20NUMBER%20%7D%0A%20%20%20*%2F%0A%20%20get%20position()%20%7B%0A%20%20%20%20return%20this._pos%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20Sets%20the%20position%20of%20this%20bug.%0A%20%20%20*%20Receives%20a%20bug%20position%20string%20in%20bga%20format%20and%20transform%0A%20%20%20*%20that%20into%20row%20and%20column.%0A%20%20%20*%2F%0A%20%20setPositionFromBga(bgaPos)%20%7B%0A%20%20%20%20bgaPos%20%3D%20bgaPos.replace(%22%5C%5C%22%2C%20%22%5C%5C%5C%5C%22)%3B%0A%20%20%20%20this._lastMovement%20%3D%20bgaPos%3B%0A%0A%20%20%20%20if%20(bgaPos%20%3D%3D%3D%20'.')%20%7B%0A%20%20%20%20%20%20this._pos%20%3D%20%7B%20x%3A%2076%2C%20y%3A%2010%20%7D%3B%20%2F%2F%20Equivalent%20to%20position%20%22L%2010%22%20in%20BS%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20bgaPos%20%3D%20bgaPos.replace(%22wL%22%2C%20%22wL1%22)%3B%0A%20%20%20%20%20%20bgaPos%20%3D%20bgaPos.replace(%22wP%22%2C%20%22wP1%22)%3B%0A%20%20%20%20%20%20bgaPos%20%3D%20bgaPos.replace(%22wM%22%2C%20%22wM1%22)%3B%0A%20%20%20%20%20%20bgaPos%20%3D%20bgaPos.replace(%22bL%22%2C%20%22bL1%22)%3B%0A%20%20%20%20%20%20bgaPos%20%3D%20bgaPos.replace(%22bP%22%2C%20%22bP1%22)%3B%0A%20%20%20%20%20%20bgaPos%20%3D%20bgaPos.replace(%22bM%22%2C%20%22bM1%22)%3B%0A%0A%20%20%20%20%20%20var%20matches%3B%0A%20%20%20%20%20%20var%20otherBugPos%3B%0A%0A%20%20%20%20%20%20%2F%2F%20TODO%3A%20This%20surely%20would%20require%20some%20explanation...%0A%20%20%20%20%20%20if%20(matches%20%3D%20bgaPos.match(%22%5E%2F(.*)%22))%20%7B%0A%20%20%20%20%20%20%20%20otherBugPos%20%20%20%3D%20this._hive.get(matches%5B1%5D).position%3B%0A%20%20%20%20%20%20%20%20this._pos%20%3D%20%7B%20x%3A%20otherBugPos.x%20-%201%2C%20y%3A%20otherBugPos.y%20-%201%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20(matches%20%3D%20bgaPos.match(%2F%5E%5C%5C%7B2%7D(.*)%2F))%20%7B%0A%20%20%20%20%20%20%20%20otherBugPos%20%20%20%3D%20this._hive.get(matches%5B1%5D).position%3B%0A%20%20%20%20%20%20%20%20this._pos%20%3D%20%7B%20x%3A%20otherBugPos.x%2C%20y%3A%20otherBugPos.y%20%2B%201%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20(matches%20%3D%20bgaPos.match(%22%5E-(.*)%22))%20%7B%0A%20%20%20%20%20%20%20%20otherBugPos%20%20%20%3D%20this._hive.get(matches%5B1%5D).position%3B%0A%20%20%20%20%20%20%20%20this._pos%20%3D%20%7B%20x%3A%20otherBugPos.x%20-%201%2C%20y%3A%20otherBugPos.y%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20(matches%20%3D%20bgaPos.match(%22(.*)%3F%2F%24%22))%20%7B%0A%20%20%20%20%20%20%20%20otherBugPos%20%20%20%3D%20this._hive.get(matches%5B1%5D).position%3B%0A%20%20%20%20%20%20%20%20this._pos%20%3D%20%7B%20x%3A%20otherBugPos.x%20%2B%201%2C%20y%3A%20otherBugPos.y%20%2B%201%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20(matches%20%3D%20bgaPos.match(%2F(.*)%5C%5C%7B2%7D%24%2F))%20%7B%0A%20%20%20%20%20%20%20%20otherBugPos%20%20%20%3D%20this._hive.get(matches%5B1%5D).position%3B%0A%20%20%20%20%20%20%20%20this._pos%20%3D%20%7B%20x%3A%20otherBugPos.x%2C%20y%3A%20otherBugPos.y%20-%201%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20if%20(matches%20%3D%20bgaPos.match(%22(.*)-%24%22))%20%7B%0A%20%20%20%20%20%20%20%20otherBugPos%20%20%20%3D%20this._hive.get(matches%5B1%5D).position%3B%0A%20%20%20%20%20%20%20%20this._pos%20%3D%20%7B%20x%3A%20otherBugPos.x%20%2B%201%2C%20y%3A%20otherBugPos.y%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20else%20%7B%0A%20%20%20%20%20%20%20%20otherBugPos%20%20%20%3D%20this._hive.get(bgaPos).position%3B%0A%20%20%20%20%20%20%20%20this._pos%20%3D%20%7B%20x%3A%20otherBugPos.x%2C%20y%3A%20otherBugPos.y%20%7D%3B%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20%40return%20%7Bstring%7D%20Last%20movement%20of%20this%20bug%20in%20common%20hive%20notation%0A%20%20%20*%2F%0A%20%20lastMovement()%20%7B%0A%20%20%20%20return%20this._lastMovement%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20%40return%20%7Bstring%7D%20'pick'%20if%20the%20bug%20has%20not%20yet%20been%20places.%20Otherwise%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20will%20return%20'pickb'.%0A%20%20%20*%2F%0A%20%20bsPickCommand()%20%7B%0A%20%20%20%20if%20(this.position%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20return%20'pick'%3B%0A%20%20%20%20%7D%0A%20%20%20%20return%20'pickb'%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20%40return%20%7Bstring%7D%20Position%20as%20it%20is%20used%20by%20BoardSpace.%0A%20%20%20*%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20(This%20is%3A%20%22LETTER%20NUMBER%22.%20For%20example%20%22L%2010%22)%0A%20%20%20*%2F%0A%20%20bsPosition()%20%7B%0A%20%20%20%20if%20(this.position%20%3D%3D%3D%20undefined)%20%7B%0A%20%20%20%20%20%20%2F%2F%20Bugs%20in%20the%20reserve%20come%20from%20some%20magic%20position%20in%20boardspace.%0A%20%20%20%20%20%20var%20bugIdx%20%3D%20%7B%0A%20%20%20%20%20%20%20%20%22Q%22%3A%200%2C%0A%20%20%20%20%20%20%20%20%22A%22%3A%201%2C%0A%20%20%20%20%20%20%20%20%22G%22%3A%202%2C%0A%20%20%20%20%20%20%20%20%22B%22%3A%203%2C%0A%20%20%20%20%20%20%20%20%22S%22%3A%204%2C%0A%20%20%20%20%20%20%20%20%22M%22%3A%205%2C%0A%20%20%20%20%20%20%20%20%22L%22%3A%206%2C%0A%20%20%20%20%20%20%20%20%22P%22%3A%207%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20return%20this._name.charAt(0).toUpperCase()%20%2B%20%22%20%22%20%2B%20bugIdx%5Bthis._bugType%5D%3B%0A%0A%20%20%20%20%7D%0A%20%20%20%20return%20String.fromCodePoint(this.position.x)%20%2B%20%22%20%22%20%2B%20this.position.y%3B%0A%20%20%7D%0A%7D%0A%0A%2F**%0A%20*%20Class%20that%20represents%20a%20Hive%20Game.%0A%20*%20Mainly%20a%20bunch%20of%20bugs%20and%20a%20list%20of%20movements.%0A%20*%2F%0Aclass%20HiveGame%20%7B%0A%0A%20%20%2F**%0A%20%20%20*%20Creates%20a%20new%20Hive%20Game.%0A%20%20%20*%20%40param%20%7Bnumber%7D%20tableId%20%20-%20Table%20Id%20from%20BGA.%20Used%20for%20identification%20purposes.%0A%20%20%20*%20%40param%20%7Bstring%7D%20player_0%20-%20Name%20of%20first%20player.%0A%20%20%20*%20%40param%20%7Bstring%7D%20player_1%20-%20Name%20of%20second%20player.%0A%20%20%20*%2F%0A%20%20constructor(tableId%2C%20player_0%2C%20player_1)%20%7B%0A%20%20%20%20this._table_id%20%20%3D%20tableId%3B%0A%20%20%20%20this._player_0%20%20%3D%20player_0%3B%0A%20%20%20%20this._player_1%20%20%3D%20player_1%3B%0A%20%20%20%20this._bugs%20%20%20%20%20%20%3D%20%7B%7D%3B%0A%20%20%20%20this._player%20%20%20%20%3D%20'P0'%3B%0A%20%20%20%20this._movements%20%3D%20%5B%5D%3B%0A%20%20%20%20this._moveIdx%20%20%20%3D%201%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20Gets%20a%20bug%20that%20matches%20the%20bug%20name%20from%20the%20Hive.%0A%20%20%20*%20It%20will%20create%20a%20new%20one%20if%20it%20does%20not%20exist%20yet.%0A%20%20%20*%0A%20%20%20*%20%40param%20%7Bstring%7D%20The%20bug%20you%20are%20looking%20for%20(wA1%2C%20wQ%2C%20bP1%2C%20etc)%0A%20%20%20*%20%40return%20%7BBug%7D%20The%20requested%20bug.%0A%20%20%20*%2F%0A%20%20get(bugName)%20%7B%0A%20%20%20%20this._bugs%20%3D%20this._bugs%20%7C%7C%20%7B%20%7D%3B%0A%0A%20%20%20%20if%20(!bugName.match(%2F%5Cd%2F)%20%26%26%20!bugName.match(%2FQ%2F))%20%7B%0A%20%20%20%20%20%20bugName%20%2B%3D%20%221%22%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20if%20(this._bugs%5BbugName%5D)%20%7B%0A%20%20%20%20%20%20return%20this._bugs%5BbugName%5D%3B%0A%20%20%20%20%7D%0A%0A%20%20%20%20var%20bug%20%3D%20new%20Bug(bugName%2C%20this)%3B%0A%20%20%20%20this._bugs%5BbugName%5D%20%3D%20bug%3B%0A%20%20%20%20return%20bug%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20Well%2C%20just%20changes%20the%20current%20player.%0A%20%20%20*%20TODO%3A%20Probably%20this%20can%20be%20deleted%20or%20at%20least%20rewritten%20in%20a%20different%0A%20%20%20*%20manner.%0A%20%20%20*%2F%0A%20%20switchPlayer()%20%7B%0A%20%20%20%20if%20(this._player%20%3D%3D%3D%20'P0')%20%7B%0A%20%20%20%20%20%20this._player%20%3D%20'P1'%3B%0A%20%20%20%20%7D%0A%20%20%20%20else%20%7B%0A%20%20%20%20%20%20this._player%20%3D%20'P0'%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20Adds%20a%20movement%20and%20translates%20it%20into%20a%20more%20BS%20friendly%20way.%0A%20%20%20*%20%40param%20%7Bstring%7D%20bgaMove%20-%20Move%20as%20it%20is%20stored%20in%20BGA%20js%20variables.%0A%20%20%20*%2F%0A%20%20addMovement(bgaMove)%20%7B%0A%20%20%20%20var%20bug%20%20%20%20%3D%20this.get(bgaMove.split(%22%20%22)%5B0%5D.trim())%3B%0A%20%20%20%20var%20bgaPos%20%3D%20bgaMove.split(%22%20%22)%5B1%5D.trim()%20%7C%7C%20%22.%22%3B%0A%0A%20%20%20%20var%20bsPick%20%3D%20%60%24%7Bbug.bsPickCommand()%7D%20%24%7Bbug.bsPosition()%7D%60%3B%0A%20%20%20%20bug.setPositionFromBga(bgaPos)%3B%0A%0A%20%20%20%20this._movements.push(%60%3B%24%7Bthis._player%7D%5B%24%7Bthis._moveIdx%2B%2B%7D%20%24%7BbsPick%7D%20%24%7Bbug.name%7D%5D%60)%3B%0A%20%20%20%20this._movements.push(%60%3B%24%7Bthis._player%7D%5B%24%7Bthis._moveIdx%2B%2B%7D%20dropb%20%24%7Bbug.name%7D%20%24%7Bbug.bsPosition()%7D%20%24%7Bbug.lastMovement()%7D%5D%60)%3B%0A%20%20%20%20this._movements.push(%60%3B%24%7Bthis._player%7D%5B%24%7Bthis._moveIdx%2B%2B%7D%20done%5D%60)%3B%0A%0A%20%20%20%20this.switchPlayer()%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20In%20BGA%20wA2%20can%20appear%20before%20wA1%2C%20BS%20doesn't%20like%20that.%0A%20%20%20*%20Need%20to%20swap%20bugs%20in%20case%20they%20appear%20in%20the%20wrong%20order.%0A%20%20%20*%2F%0A%20%20_fixBugsOrder%20(gameStr)%20%7B%0A%20%20%20%20var%20toFix%20%3D%20%5B'wA'%2C%20'wB'%2C%20'wG'%2C%20'wS'%2C%20'bA'%2C%20'bB'%2C%20'bG'%2C%20'bS'%5D%3B%0A%0A%0A%20%20%20%20%2F%2F%20TODO%3A%20Rewrite%20in%20a%20less%20messy%20way%0A%20%20%20%20for%20(var%20i%20%3D%200%3B%20i%20%3C%20toFix.length%3B%20i%2B%2B)%20%7B%0A%20%20%20%20%20%20var%20bug%20%3D%20toFix%5Bi%5D%3B%0A%20%20%20%20%20%20var%20bug1%20%20%20%3D%20bug%20%2B%20%221%22%3B%0A%20%20%20%20%20%20var%20bug2%20%20%20%3D%20bug%20%2B%20%222%22%3B%0A%20%20%20%20%20%20var%20bug3%20%20%20%3D%20bug%20%2B%20%223%22%3B%0A%20%20%20%20%20%20var%20index1%20%3D%20gameStr.indexOf(bug%20%2B%20%221%22)%3B%0A%20%20%20%20%20%20var%20index2%20%3D%20gameStr.indexOf(bug%20%2B%20%222%22)%3B%0A%20%20%20%20%20%20var%20index3%20%3D%20gameStr.indexOf(bug%20%2B%20%223%22)%3B%0A%20%20%20%20%20%20var%20re1%20%3D%20new%20RegExp(bug1%2C%20'g')%3B%0A%20%20%20%20%20%20var%20re2%20%3D%20new%20RegExp(bug2%2C%20'g')%3B%0A%20%20%20%20%20%20var%20re3%20%3D%20new%20RegExp(bug3%2C%20'g')%3B%0A%0A%20%20%20%20%20%20if%20(index3%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(index2%20%3C%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re3%2C%20bug2)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(index3%20%3C%20index2)%20%7B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re3%2C%20'SWAPME')%3B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re2%2C%20bug3)%3B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(%2FSWAPME%2Fg%2C%20bug2)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(index2%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(index1%20%3C%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re2%2C%20bug1)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(index2%20%3C%20index1)%20%7B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re2%2C%20'SWAPME')%3B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re1%2C%20bug2)%3B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(%2FSWAPME%2Fg%2C%20bug1)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20if%20(index3%20%3E%200)%20%7B%0A%20%20%20%20%20%20%20%20if%20(index2%20%3C%200)%20%7B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re3%2C%20bug2)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%20%20else%20if%20(index3%20%3C%20index2)%20%7B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re3%2C%20'SWAPME')%3B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(re2%2C%20bug3)%3B%0A%20%20%20%20%20%20%20%20%20%20gameStr%20%3D%20gameStr.replace(%2FSWAPME%2Fg%2C%20bug2)%3B%0A%20%20%20%20%20%20%20%20%7D%0A%20%20%20%20%20%20%7D%0A%20%20%20%20%7D%0A%20%20%20%20return%20gameStr%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20Returns%20the%20game%20string%20in%20a%20format%20understandable%20by%20BoardSpace.%0A%20%20%20*%2F%0A%20%20getBsGame%20()%20%7B%0A%20%20%20%20var%20gameStr%20%3D%20%60(%3B%0A%20%20%20%20%20%20GM%5B27%5DVV%5B1%5D%0A%20%20%20%20%20%20SU%5Bhive-plm%5D%0A%20%20%20%20%20%20P0%5Bid%20%22%24%7Bthis._player_0%7D%22%5D%0A%20%20%20%20%20%20P1%5Bid%20%22%24%7Bthis._player_1%7D%22%5D%0A%20%20%20%20%20%20%3B%20P0%5B0%20Start%20P0%5D%0A%20%20%20%20%60%3B%0A%0A%20%20%20%20gameStr%20%2B%3D%20this._movements.join(%22%5Cn%22)%3B%0A%20%20%20%20gameStr%20%2B%3D%20%22%5Cn)%22%3B%0A%0A%20%20%20%20return%20this._fixBugsOrder(gameStr)%3B%0A%20%20%7D%0A%0A%20%20%2F**%0A%20%20%20*%20%40return%20%7Bstring%7D%20Name%20for%20the%20game.%0A%20%20%20*%2F%0A%20%20getBsName%20()%20%7B%0A%20%20%20%20return%20%60bga2bs-%24%7Bthis.player_0%7D-%24%7Bthis.player_1%7D-%24%7Bthis.table_id%7D.sgf%60%3B%0A%20%20%7D%0A%7D%0A%0Avar%20table_id%20%3D%20g_gamelogs%5B0%5D.table_id%3B%0Avar%20player_0%20%3D%20g_gamelogs%5B1%5D.data%5B0%5D.args.player_name%3B%0Avar%20player_1%20%3D%20g_gamelogs%5B2%5D.data%5B0%5D.args.player_name%3B%0Avar%20hiveGame%20%3D%20new%20HiveGame(table_id%2C%20player_0%2C%20player_1)%3B%0A%0Afor%20(var%20i%20%3D%200%3B%20i%20%3C%20g_gamelogs.length%3B%20i%2B%2B)%20%7B%0A%20%20var%20actions%20%3D%20g_gamelogs%5Bi%5D.data%3B%0A%20%20for%20(var%20j%20%3D%200%3B%20j%20%3C%20actions.length%3B%20j%2B%2B)%20%7B%0A%20%20%20%20var%20action%20%3D%20actions%5Bj%5D%3B%0A%20%20%20%20if%20(action.type%20%3D%3D%3D%20%22tokenPlayed%22)%20%7B%0A%20%20%20%20%20%20var%20bgaMove%20%3D%20action.args.notation%3B%0A%20%20%20%20%20%20hiveGame.addMovement(bgaMove)%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%0AdownloadURI(%22data%3Atext%2Fplain%2C%22%20%2B%20encodeURIComponent(hiveGame.getBsGame())%2C%20hiveGame.getBsName())%3B%0A%0Afunction%20downloadURI(uri%2C%20name)%20%7B%0A%20%20var%20link%20%3D%20document.createElement(%22a%22)%3B%0A%20%20link.download%20%3D%20name%3B%0A%20%20link.href%20%3D%20uri%3B%0A%20%20document.body.appendChild(link)%3B%0A%20%20link.click()%3B%0A%20%20document.body.removeChild(link)%3B%0A%20%20delete%20link%3B%0A%7D%7D)()%3B
